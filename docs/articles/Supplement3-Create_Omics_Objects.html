<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Suppl. Ch. 3 - Creating Data Objects • pathwayPCA</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Suppl. Ch. 3 - Creating Data Objects">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pathwayPCA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    User Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Introduction_to_pathwayPCA.html">Integrative Pathway Analysis with pathwayPCA</a>
    </li>
    <li>
      <a href="../articles/Supplement1-Quickstart_Guide.html">Suppl. Ch. 1 - Quickstart Guide for New R Users</a>
    </li>
    <li>
      <a href="../articles/Supplement2-Importing_Data.html">Suppl. Ch. 2 - Import and Tidy Data</a>
    </li>
    <li>
      <a href="../articles/Supplement3-Create_Omics_Objects.html">Suppl. Ch. 3 - Creating Data Objects</a>
    </li>
    <li>
      <a href="../articles/Supplement4-Methods_Walkthrough.html">Suppl. Ch. 4 - Test Pathway Significance</a>
    </li>
    <li>
      <a href="../articles/Supplement5-Analyse_Results.html">Suppl. Ch.  5 - Visualizing the Results</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Version Logs</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/gabrielodom/pathwayPCA">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Suppl. Ch. 3 - Creating Data Objects</h1>
                        <h4 class="author">Gabriel Odom</h4>
            
            <h4 class="date">2018-12-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/gabrielodom/pathwayPCA/blob/master/vignettes/Supplement3-Create_Omics_Objects.Rmd"><code>vignettes/Supplement3-Create_Omics_Objects.Rmd</code></a></small>
      <div class="hidden name"><code>Supplement3-Create_Omics_Objects.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>1. Overview</h1>
<p>This vignette is the third chapter in the “Pathway Significance Testing with <code>pathwayPCA</code>” workflow, providing a detailed perspective to the <a href="https://gabrielodom.github.io/pathwayPCA/articles/Supplement1-Quickstart_Guide.html#create-an-omics-data-object">Creating Data Objects</a> section of the Quickstart Guide. This vignette builds on the material covered in the <a href="https://gabrielodom.github.io/pathwayPCA/articles/Supplement2-Importing_Data.html">“Import and Tidy Data”</a> vignette. This guide will outline the major steps needed to create a data object for analysis with the <code>pathwayPCA</code> package. These objects are called <code>Omics</code>-class objects.</p>
<div id="outline" class="section level2">
<h2 class="hasAnchor">
<a href="#outline" class="anchor"></a>1.1 Outline</h2>
<p>Before we move on, we will outline our steps. After reading this vignette, you should be able to</p>
<ol style="list-style-type: decimal">
<li>Describe the data components within the <code>Omics</code> object class.</li>
<li>Create a few <code>Omics</code> objects.</li>
<li>Inspect and edit individual elements contained in these objects.</li>
</ol>
<p>First, load the <code>pathwayPCA</code> package and the <a href="https://www.tidyverse.org/"><code>tidyverse</code> package suite</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyverse)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(pathwayPCA)</code></pre></div>
</div>
<div id="import-data" class="section level2">
<h2 class="hasAnchor">
<a href="#import-data" class="anchor"></a>1.2 Import Data</h2>
<p>Because this is the third chapter in the workflow, we assume that</p>
<ol style="list-style-type: decimal">
<li>Your assay is “tidy”.</li>
<li>Your gene pathways list is stored in a <code>pathwayCollection</code> object.</li>
<li>Your phenotype and assay data have already been ID-matched.</li>
</ol>
<p>If you are unsure about any of the three points above (or you don’t know what these mean), please review the <a href="https://gabrielodom.github.io/pathwayPCA/articles/Importing_Data.html">Import and Tidy Data</a> vignette first. It isn’t very long, but it will help you set up your data in the right way. If your data is not in the proper form, the steps in this vignette may be very difficult.</p>
<p>For the purpose of example, we will load some “toy” data: a combined assay / phenotype data frame and a <code>pathwayCollection</code> list. These objects already fit the three criteria above. This tidy data set has 656 gene expression measurements (columns) on 250 colon cancer patients (rows).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">"colonSurv_df"</span>)
colonSurv_df
<span class="co">#&gt; # A tibble: 250 x 659</span>
<span class="co">#&gt;    sampleID OS_time OS_event   JUN  SOS2  PAK3  RAF1 PRKCB   BTC  SHC1</span>
<span class="co">#&gt;    &lt;chr&gt;      &lt;dbl&gt;    &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1 subj1     64.9          0  9.29  5.48  8.21  8.03  5.49  6.65  8.26</span>
<span class="co">#&gt;  2 subj2     59.8          0  9.13  6.35  8.33  7.94  6.26  7.02  8.39</span>
<span class="co">#&gt;  3 subj3     62.4          0  9.37  5.67  7.82  7.74  6.05  7.52  8.69</span>
<span class="co">#&gt;  4 subj4     54.5          0 10.6   4.94  8.79  7.64  5.37  6.87  7.81</span>
<span class="co">#&gt;  5 subj5     46.3          1  8.70  5.60  8.75  8.05  6.07  6.49  8.45</span>
<span class="co">#&gt;  6 subj6     55.9          0  9.78  5.36  7.56  8.07  5.90  6.39  8.87</span>
<span class="co">#&gt;  7 subj7     58.0          0  9.22  5.05  8.20  7.80  5.55  6.86  8.28</span>
<span class="co">#&gt;  8 subj8     54.0          0 10.3   5.33  7.82  7.89  6.27  6.25  8.66</span>
<span class="co">#&gt;  9 subj9      0.427        1 10.8   5.07  7.63  7.69  5.48  7.57  8.36</span>
<span class="co">#&gt; 10 subj10    41.4          0  9.52  5.50  7.48  7.53  5.71  7.33  8.54</span>
<span class="co">#&gt; # ... with 240 more rows, and 649 more variables: PRKCA &lt;dbl&gt;, ELK1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   NRG1 &lt;dbl&gt;, PAK2 &lt;dbl&gt;, MTOR &lt;dbl&gt;, PAK4 &lt;dbl&gt;, MAP2K4 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   EIF4EBP1 &lt;dbl&gt;, BAD &lt;dbl&gt;, PRKCG &lt;dbl&gt;, NRG3 &lt;dbl&gt;, MAPK9 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   ERBB4 &lt;dbl&gt;, MAPK10 &lt;dbl&gt;, PTK2 &lt;dbl&gt;, ERBB2 &lt;dbl&gt;, ERBB3 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   MAP2K2 &lt;dbl&gt;, TGFA &lt;dbl&gt;, BRAF &lt;dbl&gt;, MAP2K1 &lt;dbl&gt;, MAP2K7 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   ABL1 &lt;dbl&gt;, NRG2 &lt;dbl&gt;, AKT1 &lt;dbl&gt;, ABL2 &lt;dbl&gt;, AKT2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   SHC4 &lt;dbl&gt;, RPS6KB1 &lt;dbl&gt;, RPS6KB2 &lt;dbl&gt;, AKT3 &lt;dbl&gt;, NRAS &lt;dbl&gt;,</span>
<span class="co">#&gt; #   GRB2 &lt;dbl&gt;, AREG &lt;dbl&gt;, STAT5B &lt;dbl&gt;, MAPK3 &lt;dbl&gt;, STAT5A &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PAK6 &lt;dbl&gt;, SOS1 &lt;dbl&gt;, MYC &lt;dbl&gt;, MAPK1 &lt;dbl&gt;, NCK1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PIK3R5 &lt;dbl&gt;, NRG4 &lt;dbl&gt;, HRAS &lt;dbl&gt;, MAPK8 &lt;dbl&gt;, EGFR &lt;dbl&gt;,</span>
<span class="co">#&gt; #   GSK3B &lt;dbl&gt;, CBLB &lt;dbl&gt;, KRAS &lt;dbl&gt;, CBL &lt;dbl&gt;, SHC3 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   CDKN1B &lt;dbl&gt;, CDKN1A &lt;dbl&gt;, EGF &lt;dbl&gt;, EREG &lt;dbl&gt;, ARAF &lt;dbl&gt;,</span>
<span class="co">#&gt; #   NCK2 &lt;dbl&gt;, SRC &lt;dbl&gt;, PIK3R3 &lt;dbl&gt;, CAMK2A &lt;dbl&gt;, CAMK2B &lt;dbl&gt;,</span>
<span class="co">#&gt; #   CAMK2D &lt;dbl&gt;, CAMK2G &lt;dbl&gt;, PAK1 &lt;dbl&gt;, CBLC &lt;dbl&gt;, CRK &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PIK3CA &lt;dbl&gt;, PIK3CB &lt;dbl&gt;, CRKL &lt;dbl&gt;, PIK3CD &lt;dbl&gt;, GAB1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PLCG1 &lt;dbl&gt;, PLCG2 &lt;dbl&gt;, SHC2 &lt;dbl&gt;, HBEGF &lt;dbl&gt;, PIK3CG &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PIK3R1 &lt;dbl&gt;, PIK3R2 &lt;dbl&gt;, EPHB2 &lt;dbl&gt;, EPHB4 &lt;dbl&gt;, EFNA5 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PXN &lt;dbl&gt;, CDC42 &lt;dbl&gt;, EFNB3 &lt;dbl&gt;, RRAS &lt;dbl&gt;, GRB7 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   SYNJ1 &lt;dbl&gt;, EPHB3 &lt;dbl&gt;, EFNB1 &lt;dbl&gt;, DNM1 &lt;dbl&gt;, MAP4K4 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   GRIA1 &lt;dbl&gt;, EPHB1 &lt;dbl&gt;, ROCK1 &lt;dbl&gt;, ITSN1 &lt;dbl&gt;, RAP1A &lt;dbl&gt;,</span>
<span class="co">#&gt; #   RAC1 &lt;dbl&gt;, RAP1B &lt;dbl&gt;, EFNB2 &lt;dbl&gt;, ...</span></code></pre></div>
<p>Notice that the assay and survival response information have already been merged, so we have two additional columns (for Overall Survival Time and its corresponding death indicator). We also have a small collection of 15 pathways which correspond to our example colon cancer assay.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="st">"colon_pathwayCollection"</span>)
colon_pathwayCollection
<span class="co">#&gt; Object with Class(es) 'pathwayCollection', 'list' [package 'pathwayPCA'] with 2 elements: </span>
<span class="co">#&gt;  $ pathways:List of 15</span>
<span class="co">#&gt;  $ TERMS   : chr [1:15] "KEGG_PENTOSE_PHOSPHATE_PATHWAY" ...</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(colon_pathwayCollection<span class="op">$</span>pathways, <span class="dt">list.len =</span> <span class="dv">10</span>)
<span class="co">#&gt; List of 15</span>
<span class="co">#&gt;  $ pathway3   : chr [1:27] "RPE" "RPIA" "PGM2" "PGLS" ...</span>
<span class="co">#&gt;  $ pathway60  : chr [1:64] "RPE65" "CYP3A5" "UGT2B28" "CYP4A11" ...</span>
<span class="co">#&gt;  $ pathway87  : chr [1:87] "JUN" "SOS2" "PAK3" "RAF1" ...</span>
<span class="co">#&gt;  $ pathway120 : chr [1:89] "HLA-DOA" "HLA-DOB" "KLRC3" "KLRD1" ...</span>
<span class="co">#&gt;  $ pathway176 : chr [1:54] "CASP9" "SOS2" "E2F1" "PRKCB" ...</span>
<span class="co">#&gt;  $ pathway177 : chr [1:30] "HLA-DRB4" "HLA-DRB5" "HLA-DOA" "HLA-DOB" ...</span>
<span class="co">#&gt;  $ pathway187 : chr [1:16] "IKBKG" "CHUK" "EP300" "RELA" ...</span>
<span class="co">#&gt;  $ pathway266 : chr [1:11] "PRF1" "DFFA" "DFFB" "HMGB2" ...</span>
<span class="co">#&gt;  $ pathway390 : chr [1:29] "JUN" "BAG4" "CASP8" "MAPK8" ...</span>
<span class="co">#&gt;  $ pathway413 : chr [1:23] "PLD1" "RAF1" "EPHB2" "VAV1" ...</span>
<span class="co">#&gt;   [list output truncated]</span></code></pre></div>
<p>The pathway collection and tidy assay (with matched phenotype information) are all the information we need to create an <code>Omics</code>-class data object.</p>
<hr>
<p></p>
</div>
</div>
<div id="omics-class-objects-defined" class="section level1">
<h1 class="hasAnchor">
<a href="#omics-class-objects-defined" class="anchor"></a>2. <code>Omics</code>-Class Objects Defined</h1>
<p>Now that we have our data loaded, we can create an analysis object for the <code>pathwayPCA</code> package.</p>
<div id="class-overview" class="section level2">
<h2 class="hasAnchor">
<a href="#class-overview" class="anchor"></a>2.1 Class Overview</h2>
<p>In this package, all primary input data will be in an <code>Omics</code> data object. There are three classes of <code>Omics*</code> objects, but one function (<code>CreateOmics</code>) creates all of them. Each class contains a tidy assay and <code>pathwayCollection</code> list. The classes differ in the type of response information they can hold. The classes, and their responses, are</p>
<ol style="list-style-type: decimal">
<li>
<code>OmicsSurv</code>—a data object for survival information, which includes event time (the time of last follow-up with a subject) and event indicator (did the subject die, or was the observation right-censored).</li>
<li>
<code>OmicsReg</code>—a data object for continuous responses (usually a linear regression response).</li>
<li>
<code>OmicsCateg</code>—a data object for categorical responses, the dependent variable of a generalized linear model. Currently, we only support binary classification (through logistic regression).</li>
<li>
<code>OmicsPathway</code>—a data object with no response. This is the “parent” class for the other three <code>Omics</code> classes.</li>
</ol>
</div>
<div id="review-of-data-types-in-r" class="section level2">
<h2 class="hasAnchor">
<a href="#review-of-data-types-in-r" class="anchor"></a>2.2 Review of Data Types in <code>R</code>
</h2>
<p>Take a quick look back at the structure of our <code>colonSurv_df</code> object. We have a table data frame with the first two columns as subject response information and the rest as an expression design matrix. Look at the types of the columns of this data frame (the <code>&lt;dbl&gt;</code> and <code>&lt;int&gt;</code> tags directly under the column names): these tags tell us that the columns contain “double / numeric” (<code>dbl</code>) and “integer” (<code>int</code>) information. The other tags we could potentially see here are <code>&lt;chr&gt;</code> (character), <code>&lt;lgl&gt;</code> (logical), or <code>&lt;fct&gt;</code> (factor). These tags are important because they identify which “class” of data is in each column.</p>
<p>Here are some examples of how to change data between types. We inspect the first 10 entries of each object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Original integer column</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(colonSurv_df<span class="op">$</span>OS_event, <span class="dv">10</span>)
<span class="co">#&gt;  [1] 0 0 0 0 1 0 0 0 1 0</span>

<span class="co"># Integer to Character</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/character">as.character</a></span>(colonSurv_df<span class="op">$</span>OS_event), <span class="dv">10</span>)
<span class="co">#&gt;  [1] "0" "0" "0" "0" "1" "0" "0" "0" "1" "0"</span>

<span class="co"># Integer to Logical</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/logical">as.logical</a></span>(colonSurv_df<span class="op">$</span>OS_event), <span class="dv">10</span>)
<span class="co">#&gt;  [1] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE FALSE</span>

<span class="co"># Integer to Factor</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/factor">as.factor</a></span>(colonSurv_df<span class="op">$</span>OS_event), <span class="dv">10</span>)
<span class="co">#&gt;  [1] 0 0 0 0 1 0 0 0 1 0</span>
<span class="co">#&gt; Levels: 0 1</span></code></pre></div>
<p>The <code>CreateOmics</code> function puts the response information into specific classes:</p>
<ul>
<li>Survival data is stored as a pair of <code>numeric</code> (time) and <code>logical</code> (death indicator) vectors.</li>
<li>Regression data is stored in a <code>numeric</code> or <code>integer</code> vector.</li>
<li>Binary classification data is stored in a <code>factor</code> vector.</li>
</ul>
<p>These restrictions are on purpose: the internal data creation functions in the <code>pathwayPCA</code> package have very specific requirements about the types of data they take as inputs. This ensures the integrity of your data analysis.</p>
<hr>
<p></p>
</div>
</div>
<div id="create-new-omics-objects" class="section level1">
<h1 class="hasAnchor">
<a href="#create-new-omics-objects" class="anchor"></a>3. Create New <code>Omics</code> Objects</h1>
<div id="overview-of-subtypes" class="section level2">
<h2 class="hasAnchor">
<a href="#overview-of-subtypes" class="anchor"></a>3.1 Overview of Subtypes</h2>
<p>All new <code>Omics</code> objects are created with the <code>CreateOmics</code> function. You should use this function to create <code>Omics</code>-class objects for survival, regression, or categorical responses. This <code>CreateOmics</code> function <em>internally</em> calls on a specific creation function for each response type:</p>
<ul>
<li>Survival response: the <code><a href="../reference/CreateOmicsPathway.html">CreateOmicsSurv()</a></code> function creates an <code>Omics</code> object with class <code>OmicsSurv</code>. This object will contain:
<ul>
<li>
<code>eventTime</code>: a <code>numeric</code> vector of event times.</li>
<li>
<code>eventObserved</code>: a <code>logical</code> vector of death (or other event) indicators. This format precludes the option of recurrent-event survival analysis.</li>
<li>
<code>assayData_df</code>: a tidy <code>data.frame</code> or <code>tibble</code> of assay data. Rows are observations or subjects; the columns are -Omics measures (e.g. transcriptome). The column names <em>must</em> match a subset of the genes provided in the pathways list (in the <code>pathwayCollection</code> object).</li>
<li>
<code>pathwayCollection</code>: a <code>list</code> of pathway information, as returned by the <code>read_gmt</code> function (see the <a href="https://gabrielodom.github.io/pathwayPCA/articles/Importing_Data.html#the-read_gmt-function">Import and Tidy Data</a> vignette for more details). The names of the genes in these pathways <em>must</em> match a subset of the genes recorded in the assay data frame (in the <code>assayData_df</code> object).</li>
</ul>
</li>
<li>Regression response: the <code><a href="../reference/CreateOmicsPathway.html">CreateOmicsReg()</a></code> function creates an <code>Omics</code> object with class <code>OmicsReg</code>. This object will contain:
<ul>
<li>
<code>response</code>: a <code>numeric</code> vector of the response.</li>
<li>
<code>assayData_df</code>: a tidy <code>data.frame</code> or <code>tibble</code> of assay data, as described above.</li>
<li>
<code>pathwayCollection</code>: a <code>list</code> of pathway information, as described above.</li>
</ul>
</li>
<li>Binary Classification response: the <code><a href="../reference/CreateOmicsPathway.html">CreateOmicsCateg()</a></code> function creates an <code>Omics</code> object with class <code>OmicsCateg</code>. In future versions, this function will be able to take in <span class="math inline">\(n\)</span>-ary responses and ordered categorical responses, but we only support binary responses for now. This object will contain:
<ul>
<li>
<code>response</code>: a <code>factor</code> vector of the response.</li>
<li>
<code>assayData_df</code>: a tidy <code>data.frame</code> or <code>tibble</code> of assay data, as described above.</li>
<li>
<code>pathwayCollection</code>: a <code>list</code> of pathway information, as described above.</li>
</ul>
</li>
</ul>
<!-- ### Data Types and the `CreateOmics*` Functions --><!-- As we previously mentioned, the response fields of the `CreateOmicsSurv`, `CreateOmicsReg`, or `CreateOmicsCateg` functions require specific types of data: --><!-- * `CreateOmicsSurv` requires two response vectors: --><!--     - `eventTime_num` = a *numeric* vector. The column in your imported data corresponding to the event time should have the `<int>` or `<dbl>` tag. If this column is a character column (it has the `<chr>` tag), then the most likely cause is that you had an additional column of character information in your assay data frame before transposing. Remove this extra character information and transpose your assay again. --><!--     - `eventObserved_lgl` = a *logical* vector. The column in your imported data corresponding to the event indicator should have the `<lgl>` tag. Also note that this indicator records if an event **was observed**, not if the event was censored. If the event occured at the corresponding event time (i.e. the subject died), then this vector entry will be `TRUE`. If the subject was right-censored, then this entry will be `FALSE`. --><!-- * `CreateOmicsReg` and `CreateOmicsCateg` require one response vector: --><!--     - `response_num` = regression response as a *numeric* vector. The column in your imported data corresponding to the regression response should have the `<int>` or `<dbl>` tag. See the comment above about the `eventTime_num` argument if your column is a character. --><!--     - `response_fact` = classification response as a *factor* vector. The column in your imported data corresponding to the classification / categorical regression response should have the `<fct>` tag. It is highly likely that the classification response was imported as an integer (if the original values were coded as 0/1) or a character (if the original values were given character names, such as "benign" / "malignent"). Either way, use the `as.factor` command to transform that column from a character or integer column into a factor column. For example, the `as.factor` function can turn our logical censoring indicator from a vector of `TRUE` and `FALSE` to a categorical (factor) vector with levels `TRUE` and `FALSE`. This will not overwrite the original column, so make sure you save this new factor. --><!-- ```{r factors_eg, eval = FALSE} --><!-- eventObs_fct <- as.factor(colonSurv_df$OS_event) --><!-- ``` --><p>In order to create example <code>Omics</code>-class objects, we will consider the overall patient survival time (and corresponding censoring indicator) as our survival response, the event time as our regression response, and event indicator as our binary classification response.</p>
</div>
<div id="create-a-survival-omics-data-object" class="section level2">
<h2 class="hasAnchor">
<a href="#create-a-survival-omics-data-object" class="anchor"></a>3.2 Create a Survival <code>Omics</code> Data Object</h2>
<p>Now we are prepared to create our first survival <code>Omics</code> object for later analysis with either AES-PCA or Supervised PCA. Recall that the <code>colonSurv_df</code> data frame has the survival time in the first column, the event indicator in the second column, and the assay expression data in the subsequent columns. Therefore, the four arguments to the <code>CreateOmics</code> function will be:</p>
<ul>
<li>
<code>assayData_df</code>: this will be only the <em>expression columns</em> of the <code>colonSurv_df</code> data frame (i.e. all but the first two columns). In <code>R</code>, we can remove the first two columns of the <code>colonSurv_df</code> data frame by negative subsetting: <code>colonSurv_df[, -(1:2)]</code>.</li>
<li>
<code>pathwayCollection_ls</code>: this will be the <code>colon_pathwayCollection</code> list object. Recall that you can import a <code>.gmt</code> file into a <code>pathwayCollection</code> object via the <code>read_gmt</code> function, or create a <code>pathwayCollection</code> list object by hand with the <code>CreatePathwayCollection</code> function.</li>
<li>
<code>response</code>: this will be the first two columns of the <code>colonSurv_df</code> data frame. The survival time stored in the <code>OS_time</code> column and the event indicator stored in the <code>OS_event</code> column.</li>
<li>
<code>respType</code>: this will be the word <code>"survival"</code> or an abbreviation of it.</li>
</ul>
<p>Also, when you create an <code>Omics*</code>-class object, the <code><a href="../reference/CreateOmics.html">CreateOmics()</a></code> function prints helpful diagnostic messages about the overlap between the features in the supplied assay data and those in the pathway collection.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">colon_OmicsSurv &lt;-<span class="st"> </span><span class="kw"><a href="../reference/CreateOmics.html">CreateOmics</a></span>(
  <span class="dt">assayData_df =</span> colonSurv_df[, <span class="op">-</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>)],
  <span class="dt">pathwayCollection_ls =</span> colon_pathwayCollection,
  <span class="dt">response =</span> colonSurv_df[, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>],
  <span class="dt">respType =</span> <span class="st">"surv"</span>
)
<span class="co">#&gt; </span>
<span class="co">#&gt;   ======  Creating object of class OmicsSurv  =======</span>
<span class="co">#&gt; The input pathway database included 676 unique features.</span>
<span class="co">#&gt; The input assay dataset included 656 features.</span>
<span class="co">#&gt; Only pathways with at least 3 or more features included in the assay dataset are</span>
<span class="co">#&gt;   tested (specified by minPathSize parameter). There are 15 pathways which meet</span>
<span class="co">#&gt;   this criterion.</span>
<span class="co">#&gt; Because pathwayPCA is a self-contained test (PMID: 17303618), only features in</span>
<span class="co">#&gt;   both assay data and pathway database are considered for analysis. There are 615</span>
<span class="co">#&gt;   such features shared by the input assay and pathway database.</span></code></pre></div>
<p>The last three sentences inform you of how strong the overlap is between the genes measured in your data and the genes selected in your pathway collection. This messages tells us that 9% of the 676 total genes included in all pathways were not measured in the assay; zero pathways were removed from the pathways list for having too few genes after gene trimming; and the genes in the pathways list call for 93.8% of the 656 genes measured in the assay. The last number is the most important: it measures how well your pathway collection overlaps with the genes measured in your assay. This number should be as close to 100% as possible. These diagnostic messages depend on the overlap between the pathway collection and the assay, so these messages are response agnostic.</p>
</div>
<div id="view-the-new-object" class="section level2">
<h2 class="hasAnchor">
<a href="#view-the-new-object" class="anchor"></a>3.3 View the New Object</h2>
<p>In order to view a summary of the contents of the <code>colon_OmicsSurv</code> object, you need simply to print it to the <code>R</code> console.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">colon_OmicsSurv
<span class="co">#&gt; Formal class 'OmicsSurv' [package "pathwayPCA"] with 6 slots</span>
<span class="co">#&gt;   ..@ eventTime            : num [1:250] 64.9 59.8 62.4 54.5 46.3 ...</span>
<span class="co">#&gt;   ..@ eventObserved        : logi [1:250] FALSE FALSE FALSE FALSE TRUE FALSE ...</span>
<span class="co">#&gt;   ..@ assayData_df         :Classes 'tbl_df', 'tbl' and 'data.frame':    250 obs. of  656 variables:</span>
<span class="co">#&gt;   ..@ sampleIDs_char       : chr [1:250] "subj1" "subj2" "subj3" "subj4" ...</span>
<span class="co">#&gt;   ..@ pathwayCollection    :List of 3</span>
<span class="co">#&gt;   .. ..- attr(*, "class")= chr [1:2] "pathwayCollection" "list"</span>
<span class="co">#&gt;   ..@ trimPathwayCollection:List of 4</span>
<span class="co">#&gt;   .. ..- attr(*, "class")= chr [1:2] "pathwayCollection" "list"</span></code></pre></div>
<p>Also notice that the <code><a href="../reference/CreateOmics.html">CreateOmics()</a></code> function stores a “cleaned” copy of the pathway collection. The object creation functions within the <code>pathwayPCA</code> package subset the feature data frame by the genes in each pathway. Therefore, if we have genes in the pathways that are not recorded in the data frame, then we will necessarily create missing (<code>NA</code>) predictors. To circumvent this issue, we check if each gene in each pathway is recorded in the data frame, and remove from each pathway the genes for which the assay does not have recorded expression levels. However, if we remove genes from pathways which do not have recorded levels in the predictor data frame, we could theoretically remove all the genes from a given pathway. Thus, we also check to make sure that each pathway in the given pathways list still has some minimum number of genes present (defaulting to three or more) after we have removed genes without corresponding expression levels.</p>
<p>The <code><a href="../reference/IntersectOmicsPwyCollct.html">IntersectOmicsPwyCollct()</a></code> function performs these two actions simultaneously, and this function is called and executed automatically within the object creation step. This function removes the unrecorded genes from each pathway, trims the pathways that have fewer than the minimum number of genes allowed, and returns a “trimmed” pathway collection. If there are any pathways removed by this execution, the <code>pathways</code> list within the <code>trimPathwayCollection</code> object within the <code>Omics</code> object will have a character vector of the pathways removed stored as the <code>"missingPaths"</code> attribute. Access this attribute with the <code><a href="https://www.rdocumentation.org/packages/base/topics/attr">attr()</a></code> function.</p>
</div>
<div id="regression-and-classification-omics-data-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#regression-and-classification-omics-data-objects" class="anchor"></a>3.4 Regression and Classification <code>Omics</code> Data Objects</h2>
<p>We create regression- and categorical-type <code>Omics</code> data objects identically to survival-type <code>Omics</code> objects. We will use the survival time as our toy regression response and the death indicator as the toy classification response.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">colon_OmicsReg &lt;-<span class="st"> </span><span class="kw"><a href="../reference/CreateOmics.html">CreateOmics</a></span>(
  <span class="dt">assayData_df =</span> colonSurv_df[, <span class="op">-</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>)],
  <span class="dt">pathwayCollection_ls =</span> colon_pathwayCollection,
  <span class="dt">response =</span> colonSurv_df[, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>],
  <span class="dt">respType =</span> <span class="st">"reg"</span>
)
<span class="co">#&gt; </span>
<span class="co">#&gt;   ======  Creating object of class OmicsReg  =======</span>
<span class="co">#&gt; The input pathway database included 676 unique features.</span>
<span class="co">#&gt; The input assay dataset included 656 features.</span>
<span class="co">#&gt; Only pathways with at least 3 or more features included in the assay dataset are</span>
<span class="co">#&gt;   tested (specified by minPathSize parameter). There are 15 pathways which meet</span>
<span class="co">#&gt;   this criterion.</span>
<span class="co">#&gt; Because pathwayPCA is a self-contained test (PMID: 17303618), only features in</span>
<span class="co">#&gt;   both assay data and pathway database are considered for analysis. There are 615</span>
<span class="co">#&gt;   such features shared by the input assay and pathway database.</span>
colon_OmicsReg
<span class="co">#&gt; Formal class 'OmicsReg' [package "pathwayPCA"] with 5 slots</span>
<span class="co">#&gt;   ..@ response             : num [1:250] 64.9 59.8 62.4 54.5 46.3 ...</span>
<span class="co">#&gt;   ..@ assayData_df         :Classes 'tbl_df', 'tbl' and 'data.frame':    250 obs. of  656 variables:</span>
<span class="co">#&gt;   ..@ sampleIDs_char       : chr [1:250] "subj1" "subj2" "subj3" "subj4" ...</span>
<span class="co">#&gt;   ..@ pathwayCollection    :List of 3</span>
<span class="co">#&gt;   .. ..- attr(*, "class")= chr [1:2] "pathwayCollection" "list"</span>
<span class="co">#&gt;   ..@ trimPathwayCollection:List of 4</span>
<span class="co">#&gt;   .. ..- attr(*, "class")= chr [1:2] "pathwayCollection" "list"</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">colon_OmicsCateg &lt;-<span class="st"> </span><span class="kw"><a href="../reference/CreateOmics.html">CreateOmics</a></span>(
  <span class="dt">assayData_df =</span> colonSurv_df[, <span class="op">-</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>)],
  <span class="dt">pathwayCollection_ls =</span> colon_pathwayCollection,
  <span class="dt">response =</span> colonSurv_df[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">3</span>)],
  <span class="dt">respType =</span> <span class="st">"categ"</span>
)
<span class="co">#&gt; </span>
<span class="co">#&gt;   ======  Creating object of class OmicsCateg  =======</span>
<span class="co">#&gt; The input pathway database included 676 unique features.</span>
<span class="co">#&gt; The input assay dataset included 656 features.</span>
<span class="co">#&gt; Only pathways with at least 3 or more features included in the assay dataset are</span>
<span class="co">#&gt;   tested (specified by minPathSize parameter). There are 15 pathways which meet</span>
<span class="co">#&gt;   this criterion.</span>
<span class="co">#&gt; Because pathwayPCA is a self-contained test (PMID: 17303618), only features in</span>
<span class="co">#&gt;   both assay data and pathway database are considered for analysis. There are 615</span>
<span class="co">#&gt;   such features shared by the input assay and pathway database.</span>
colon_OmicsCateg
<span class="co">#&gt; Formal class 'OmicsCateg' [package "pathwayPCA"] with 5 slots</span>
<span class="co">#&gt;   ..@ response             : Factor w/ 2 levels "0","1": 1 1 1 1 2 1 1 1 2 1 ...</span>
<span class="co">#&gt;   ..@ assayData_df         :Classes 'tbl_df', 'tbl' and 'data.frame':    250 obs. of  656 variables:</span>
<span class="co">#&gt;   ..@ sampleIDs_char       : chr [1:250] "subj1" "subj2" "subj3" "subj4" ...</span>
<span class="co">#&gt;   ..@ pathwayCollection    :List of 3</span>
<span class="co">#&gt;   .. ..- attr(*, "class")= chr [1:2] "pathwayCollection" "list"</span>
<span class="co">#&gt;   ..@ trimPathwayCollection:List of 4</span>
<span class="co">#&gt;   .. ..- attr(*, "class")= chr [1:2] "pathwayCollection" "list"</span></code></pre></div>
<hr>
<p></p>
</div>
</div>
<div id="inspecting-and-editing-omics-class-objects" class="section level1">
<h1 class="hasAnchor">
<a href="#inspecting-and-editing-omics-class-objects" class="anchor"></a>4. Inspecting and Editing <code>Omics</code>-Class Objects</h1>
<p>In order to access or edit a specific component of an <code>Omics</code> object, we need to use specific <em>accessor</em> functions. These functions are named with the component they access.</p>
<div id="example-get-function" class="section level2">
<h2 class="hasAnchor">
<a href="#example-get-function" class="anchor"></a>4.1 Example “Get” Function</h2>
<p>The <code>get*</code> functions access the part of the data object you specify. You can save these objects to their own variables, or simply print them to the screen for inspection. Here we print the assay data frame contained in the <code>colon_OmicsSurv</code> object to the screen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/get_set_OmicsPathway.html">getAssay</a></span>(colon_OmicsSurv)
<span class="co">#&gt; # A tibble: 250 x 656</span>
<span class="co">#&gt;       JUN    SOS2   PAK3    RAF1  PRKCB    BTC     SHC1   PRKCA   ELK1</span>
<span class="co">#&gt;     &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 -0.880  0.367   1.30   0.480  -0.867 -0.790 -2.84e-1  0.0104  1.04 </span>
<span class="co">#&gt;  2 -1.11   2.15    1.62   0.165   0.547 -0.261 -4.91e-4  1.18    1.49 </span>
<span class="co">#&gt;  3 -0.752  0.764   0.330 -0.541   0.164  0.452  6.91e-1 -0.950   0.667</span>
<span class="co">#&gt;  4  1.03  -0.751   2.75  -0.878  -1.09  -0.481 -1.34e+0  1.52    2.23 </span>
<span class="co">#&gt;  5 -1.73   0.613   2.66   0.550   0.197 -1.02   1.56e-1 -1.29    1.68 </span>
<span class="co">#&gt;  6 -0.162  0.126  -0.324  0.627  -0.106 -1.17   1.11e+0 -1.27    0.964</span>
<span class="co">#&gt;  7 -0.980 -0.520   1.28  -0.343  -0.762 -0.489 -2.57e-1  0.0518  1.21 </span>
<span class="co">#&gt;  8  0.616  0.0633  0.343 -0.0195  0.578 -1.37   6.38e-1  1.37    1.05 </span>
<span class="co">#&gt;  9  1.35  -0.467  -0.149 -0.718  -0.898  0.527 -6.04e-2  1.32   -1.000</span>
<span class="co">#&gt; 10 -0.538  0.413  -0.503 -1.27   -0.466  0.178  3.45e-1 -1.40   -0.378</span>
<span class="co">#&gt; # ... with 240 more rows, and 647 more variables: NRG1 &lt;dbl&gt;, PAK2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   MTOR &lt;dbl&gt;, PAK4 &lt;dbl&gt;, MAP2K4 &lt;dbl&gt;, EIF4EBP1 &lt;dbl&gt;, BAD &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PRKCG &lt;dbl&gt;, NRG3 &lt;dbl&gt;, MAPK9 &lt;dbl&gt;, ERBB4 &lt;dbl&gt;, MAPK10 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PTK2 &lt;dbl&gt;, ERBB2 &lt;dbl&gt;, ERBB3 &lt;dbl&gt;, MAP2K2 &lt;dbl&gt;, TGFA &lt;dbl&gt;,</span>
<span class="co">#&gt; #   BRAF &lt;dbl&gt;, MAP2K1 &lt;dbl&gt;, MAP2K7 &lt;dbl&gt;, ABL1 &lt;dbl&gt;, NRG2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   AKT1 &lt;dbl&gt;, ABL2 &lt;dbl&gt;, AKT2 &lt;dbl&gt;, SHC4 &lt;dbl&gt;, RPS6KB1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   RPS6KB2 &lt;dbl&gt;, AKT3 &lt;dbl&gt;, NRAS &lt;dbl&gt;, GRB2 &lt;dbl&gt;, AREG &lt;dbl&gt;,</span>
<span class="co">#&gt; #   STAT5B &lt;dbl&gt;, MAPK3 &lt;dbl&gt;, STAT5A &lt;dbl&gt;, PAK6 &lt;dbl&gt;, SOS1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   MYC &lt;dbl&gt;, MAPK1 &lt;dbl&gt;, NCK1 &lt;dbl&gt;, PIK3R5 &lt;dbl&gt;, NRG4 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   HRAS &lt;dbl&gt;, MAPK8 &lt;dbl&gt;, EGFR &lt;dbl&gt;, GSK3B &lt;dbl&gt;, CBLB &lt;dbl&gt;,</span>
<span class="co">#&gt; #   KRAS &lt;dbl&gt;, CBL &lt;dbl&gt;, SHC3 &lt;dbl&gt;, CDKN1B &lt;dbl&gt;, CDKN1A &lt;dbl&gt;,</span>
<span class="co">#&gt; #   EGF &lt;dbl&gt;, EREG &lt;dbl&gt;, ARAF &lt;dbl&gt;, NCK2 &lt;dbl&gt;, SRC &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PIK3R3 &lt;dbl&gt;, CAMK2A &lt;dbl&gt;, CAMK2B &lt;dbl&gt;, CAMK2D &lt;dbl&gt;, CAMK2G &lt;dbl&gt;,</span>
<span class="co">#&gt; #   PAK1 &lt;dbl&gt;, CBLC &lt;dbl&gt;, CRK &lt;dbl&gt;, PIK3CA &lt;dbl&gt;, PIK3CB &lt;dbl&gt;,</span>
<span class="co">#&gt; #   CRKL &lt;dbl&gt;, PIK3CD &lt;dbl&gt;, GAB1 &lt;dbl&gt;, PLCG1 &lt;dbl&gt;, PLCG2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   SHC2 &lt;dbl&gt;, HBEGF &lt;dbl&gt;, PIK3CG &lt;dbl&gt;, PIK3R1 &lt;dbl&gt;, PIK3R2 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   EPHB2 &lt;dbl&gt;, EPHB4 &lt;dbl&gt;, EFNA5 &lt;dbl&gt;, PXN &lt;dbl&gt;, CDC42 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   EFNB3 &lt;dbl&gt;, RRAS &lt;dbl&gt;, GRB7 &lt;dbl&gt;, SYNJ1 &lt;dbl&gt;, EPHB3 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   EFNB1 &lt;dbl&gt;, DNM1 &lt;dbl&gt;, MAP4K4 &lt;dbl&gt;, GRIA1 &lt;dbl&gt;, EPHB1 &lt;dbl&gt;,</span>
<span class="co">#&gt; #   ROCK1 &lt;dbl&gt;, ITSN1 &lt;dbl&gt;, RAP1A &lt;dbl&gt;, RAC1 &lt;dbl&gt;, RAP1B &lt;dbl&gt;,</span>
<span class="co">#&gt; #   EFNB2 &lt;dbl&gt;, WASL &lt;dbl&gt;, TF &lt;dbl&gt;, ...</span></code></pre></div>
<p>This function is rather simple: it shows us what object is stored in the <code>assayData_df</code> slot of the <code>colon_OmicsSurv</code> data object. As we should expect, we see all the columns of the <code>colonSurv_df</code> data frame except for the first two (the survival time and event indicator).</p>
</div>
<div id="example-set-function" class="section level2">
<h2 class="hasAnchor">
<a href="#example-set-function" class="anchor"></a>4.2 Example “Set” Function</h2>
<p>If we needed to edit the assay data frame in the <code>colon_OmicsSurv</code> object, we can use the “replacement” syntax of the <code>getAssay</code> function. These are the “set” functions, and they use the <code>getSLOT(object) &lt;- value</code> syntax. For example, if we wanted to remove all of the genes except for the first ten from the assay data, we can replace this assay data with a subset of the the original <code>colonSurv_df</code> data frame. The <code>SLOT</code> shorthand name is <code>Assay</code>, and the replacement value is the first ten gene expression columns (in columns 3 through 12) of the <code>colonSurv_df</code> data frame: <code>colonSurv_df[, (3:12)]</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/get_set_OmicsPathway.html">getAssay</a></span>(colon_OmicsSurv) &lt;-<span class="st"> </span>colonSurv_df[, (<span class="dv">3</span><span class="op">:</span><span class="dv">12</span>)]</code></pre></div>
<p>Now, when we inspect the <code>colon_OmicsSurv</code> data object, we see only ten variables measured in the <code>assayData_df</code> slot, instead of our original 656.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">colon_OmicsSurv
<span class="co">#&gt; Formal class 'OmicsSurv' [package "pathwayPCA"] with 6 slots</span>
<span class="co">#&gt;   ..@ eventTime            : num [1:250] 64.9 59.8 62.4 54.5 46.3 ...</span>
<span class="co">#&gt;   ..@ eventObserved        : logi [1:250] FALSE FALSE FALSE FALSE TRUE FALSE ...</span>
<span class="co">#&gt;   ..@ assayData_df         :Classes 'tbl_df', 'tbl' and 'data.frame':    250 obs. of  10 variables:</span>
<span class="co">#&gt;   ..@ sampleIDs_char       : chr [1:250] "subj1" "subj2" "subj3" "subj4" ...</span>
<span class="co">#&gt;   ..@ pathwayCollection    :List of 3</span>
<span class="co">#&gt;   .. ..- attr(*, "class")= chr [1:2] "pathwayCollection" "list"</span>
<span class="co">#&gt;   ..@ trimPathwayCollection:List of 4</span>
<span class="co">#&gt;   .. ..- attr(*, "class")= chr [1:2] "pathwayCollection" "list"</span></code></pre></div>
<p>Before we move on, we should resest the data in the <code>assayData_df</code> slot to the full data by</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/get_set_OmicsPathway.html">getAssay</a></span>(colon_OmicsSurv) &lt;-<span class="st"> </span>colonSurv_df[, <span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)]</code></pre></div>
</div>
<div id="table-of-accessors" class="section level2">
<h2 class="hasAnchor">
<a href="#table-of-accessors" class="anchor"></a>4.3 Table of Accessors</h2>
<p>Here is a table listing each of the “get” and “set” methods for the <code>Omics</code> class, and which sub-classes they can access or modify.</p>
<table class="table">
<colgroup>
<col width="30%">
<col width="17%">
<col width="52%">
</colgroup>
<thead><tr class="header">
<th>Command</th>
<th align="center">
<code>Omics</code> Sub-class</th>
<th>Function</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="../reference/get_set_OmicsPathway.html">getAssay(object)</a></code></td>
<td align="center">All</td>
<td>Extract the <code>assayData_df</code> data frame stored in <code>object</code>.</td>
</tr>
<tr class="even">
<td><code>getAssay(object) &lt;- value</code></td>
<td align="center">All</td>
<td>Set <code>assayData_df</code> stored in <code>object</code> to <code>value</code>.</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/get_set_OmicsPathway.html">getSampleIDs(object)</a></code></td>
<td align="center">All</td>
<td>Extract the <code>sampleIDs_char</code> vector stored in <code>object</code>.</td>
</tr>
<tr class="even">
<td><code>getSampleIDs(object) &lt;- value</code></td>
<td align="center">All</td>
<td>Set <code>sampleIDs_char</code> stored in <code>object</code> to <code>value</code>.</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/get_set_OmicsPathway.html">getPathwayCollection(object)</a></code></td>
<td align="center">All</td>
<td>Extract the <code>pathwayCollection</code> list stored in <code>object</code>.</td>
</tr>
<tr class="even">
<td><code>getPathwayCollection(object) &lt;- value</code></td>
<td align="center">All</td>
<td>Set <code>pathwayCollection</code> stored in <code>object</code> to <code>value</code>.</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/get_set_OmicsSurv.html">getEventTime(object)</a></code></td>
<td align="center"><code>Surv</code></td>
<td>Extract the <code>eventTime_num</code> vector stored in <code>object</code>.</td>
</tr>
<tr class="even">
<td><code>getEventTime(object) &lt;- value</code></td>
<td align="center"><code>Surv</code></td>
<td>Set <code>eventTime_num</code> stored in <code>object</code> to <code>value</code>.</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/get_set_OmicsSurv.html">getEvent(object)</a></code></td>
<td align="center"><code>Surv</code></td>
<td>Extract the <code>eventObserved_lgl</code> vector stored in <code>object</code>.</td>
</tr>
<tr class="even">
<td><code>getEvent(object) &lt;- value</code></td>
<td align="center"><code>Surv</code></td>
<td>Set <code>eventObserved_lgl</code> stored in <code>object</code> to <code>value</code>.</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/get_set_OmicsRegCateg.html">getResponse(object)</a></code></td>
<td align="center">
<code>Reg</code> or <code>Categ</code>
</td>
<td>Extract the <code>response</code> vector stored in <code>object</code>.</td>
</tr>
<tr class="even">
<td><code>getResponse(object) &lt;- value</code></td>
<td align="center">
<code>Reg</code> or <code>Categ</code>
</td>
<td>Set <code>response</code> stored in <code>object</code> to <code>value</code>.</td>
</tr>
</tbody>
</table>
<p>The <code>response</code> vector accessed or edited with the <code>getResponse</code> method depends on if the <code>object</code> supplied is a “regression” <code>Omics</code>-class object or a “categorical” one. For regression <code>Omics</code> objects, <code><a href="../reference/get_set_OmicsRegCateg.html">getResponse(object)</a></code> and <code>getResponse(object) &lt;- value</code> get and set, respectively, the <code>response_num</code> slot. However, for categorical <code>Omics</code> objects, <code><a href="../reference/get_set_OmicsRegCateg.html">getResponse(object)</a></code> and <code>getResponse(object) &lt;- value</code> get and set, respectively, the <code>response_fact</code> slot. This is because regression objects contain <code>numeric</code> response vectors while categorical objects contain <code>factor</code> response vectors.</p>
</div>
<div id="inspect-the-updated-pathwaycollection-list" class="section level2">
<h2 class="hasAnchor">
<a href="#inspect-the-updated-pathwaycollection-list" class="anchor"></a>4.4 Inspect the Updated <code>pathwayCollection</code> List</h2>
<p>As we mentioned in the <a href="https://gabrielodom.github.io/pathwayPCA/articles/Supplement2-Importing_Data.html#import-gmt-files-with-read_gmt">Importing with the <code>read_gmt</code> Function</a> subsection of the previous vignette, the <code>pathwayCollection</code> object will be modified upon <code>Omics</code>-object creation. Before, this list only had two elements, <code>pathways</code> and <code>TERMS</code> (we skipped importing the “description” field). Now, it has a third element: <code>setsize</code>—the number of genes contained in each pathway.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/get_set_OmicsPathway.html">getPathwayCollection</a></span>(colon_OmicsSurv)
<span class="co">#&gt; Object with Class(es) 'pathwayCollection', 'list' [package 'pathwayPCA'] with 3 elements: </span>
<span class="co">#&gt;  $ pathways:List of 15</span>
<span class="co">#&gt;  $ TERMS   : Named chr [1:15] "KEGG_PENTOSE_PHOSPHATE_PATHWAY" ...</span>
<span class="co">#&gt;  $ setsize : Named int [1:15] 27 64 ...</span></code></pre></div>
<hr>
<p></p>
</div>
</div>
<div id="review" class="section level1">
<h1 class="hasAnchor">
<a href="#review" class="anchor"></a>5. Review</h1>
<p>We now summarize our steps so far. We have</p>
<ol style="list-style-type: decimal">
<li>Defined the <code>Omics</code> class and three sub-classes: survival, regression, and categorical (and the “parent” class).</li>
<li>Created an <code>Omics</code> object for the three sub-classes.</li>
<li>Inspected and edited individual elements contained in these objects.</li>
</ol>
<p>Now we are prepared to analyze our created data objects with either AES-PCA or Supervised PCA. Please read vignette chapter 4 next: <a href="https://gabrielodom.github.io/pathwayPCA/articles/Supplement4-Methods_Walkthrough.html">Test Pathway Significance</a>.</p>
<p>Here is the R session information for this vignette:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/sessionInfo">sessionInfo</a></span>()
<span class="co">#&gt; R version 3.5.1 (2018-07-02)</span>
<span class="co">#&gt; Platform: x86_64-w64-mingw32/x64 (64-bit)</span>
<span class="co">#&gt; Running under: Windows 7 x64 (build 7601) Service Pack 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Matrix products: default</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; locale:</span>
<span class="co">#&gt; [1] LC_COLLATE=English_United States.1252 </span>
<span class="co">#&gt; [2] LC_CTYPE=English_United States.1252   </span>
<span class="co">#&gt; [3] LC_MONETARY=English_United States.1252</span>
<span class="co">#&gt; [4] LC_NUMERIC=C                          </span>
<span class="co">#&gt; [5] LC_TIME=English_United States.1252    </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attached base packages:</span>
<span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; other attached packages:</span>
<span class="co">#&gt;  [1] pathwayPCA_0.0.0.9000 forcats_0.3.0         stringr_1.3.1        </span>
<span class="co">#&gt;  [4] dplyr_0.7.8           purrr_0.2.5           readr_1.3.0          </span>
<span class="co">#&gt;  [7] tidyr_0.8.2           tibble_1.4.2          ggplot2_3.1.0        </span>
<span class="co">#&gt; [10] tidyverse_1.2.1      </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; loaded via a namespace (and not attached):</span>
<span class="co">#&gt;  [1] tidyselect_0.2.5 xfun_0.4         splines_3.5.1    haven_2.0.0     </span>
<span class="co">#&gt;  [5] lattice_0.20-38  colorspace_1.3-2 generics_0.0.2   htmltools_0.3.6 </span>
<span class="co">#&gt;  [9] yaml_2.2.0       utf8_1.1.4       survival_2.43-3  rlang_0.3.0.1   </span>
<span class="co">#&gt; [13] pkgdown_1.3.0    pillar_1.3.0     withr_2.1.2      glue_1.3.0      </span>
<span class="co">#&gt; [17] modelr_0.1.2     readxl_1.1.0     bindrcpp_0.2.2   bindr_0.1.1     </span>
<span class="co">#&gt; [21] plyr_1.8.4       munsell_0.5.0    commonmark_1.7   gtable_0.2.0    </span>
<span class="co">#&gt; [25] cellranger_1.1.0 rvest_0.3.2      memoise_1.1.0    evaluate_0.12   </span>
<span class="co">#&gt; [29] knitr_1.21       parallel_3.5.1   fansi_0.4.0      lars_1.2        </span>
<span class="co">#&gt; [33] broom_0.5.1      Rcpp_1.0.0       backports_1.1.2  scales_1.0.0    </span>
<span class="co">#&gt; [37] desc_1.2.0       jsonlite_1.6     fs_1.2.6         hms_0.4.2       </span>
<span class="co">#&gt; [41] digest_0.6.18    stringi_1.2.4    grid_3.5.1       rprojroot_1.3-2 </span>
<span class="co">#&gt; [45] cli_1.0.1        tools_3.5.1      magrittr_1.5     lazyeval_0.2.1  </span>
<span class="co">#&gt; [49] crayon_1.3.4     pkgconfig_2.0.2  Matrix_1.2-15    MASS_7.3-51.1   </span>
<span class="co">#&gt; [53] xml2_1.2.0       lubridate_1.7.4  assertthat_0.2.0 rmarkdown_1.11  </span>
<span class="co">#&gt; [57] roxygen2_6.1.1   httr_1.4.0       rstudioapi_0.8   R6_2.3.0        </span>
<span class="co">#&gt; [61] nlme_3.1-137     compiler_3.5.1</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#overview">1. Overview</a><ul class="nav nav-pills nav-stacked">
<li><a href="#outline">1.1 Outline</a></li>
      <li><a href="#import-data">1.2 Import Data</a></li>
      </ul>
</li>
      <li>
<a href="#omics-class-objects-defined">2. <code>Omics</code>-Class Objects Defined</a><ul class="nav nav-pills nav-stacked">
<li><a href="#class-overview">2.1 Class Overview</a></li>
      <li><a href="#review-of-data-types-in-r">2.2 Review of Data Types in <code>R</code></a></li>
      </ul>
</li>
      <li>
<a href="#create-new-omics-objects">3. Create New <code>Omics</code> Objects</a><ul class="nav nav-pills nav-stacked">
<li><a href="#overview-of-subtypes">3.1 Overview of Subtypes</a></li>
      <li><a href="#create-a-survival-omics-data-object">3.2 Create a Survival <code>Omics</code> Data Object</a></li>
      <li><a href="#view-the-new-object">3.3 View the New Object</a></li>
      <li><a href="#regression-and-classification-omics-data-objects">3.4 Regression and Classification <code>Omics</code> Data Objects</a></li>
      </ul>
</li>
      <li>
<a href="#inspecting-and-editing-omics-class-objects">4. Inspecting and Editing <code>Omics</code>-Class Objects</a><ul class="nav nav-pills nav-stacked">
<li><a href="#example-get-function">4.1 Example “Get” Function</a></li>
      <li><a href="#example-set-function">4.2 Example “Set” Function</a></li>
      <li><a href="#table-of-accessors">4.3 Table of Accessors</a></li>
      <li><a href="#inspect-the-updated-pathwaycollection-list">4.4 Inspect the Updated <code>pathwayCollection</code> List</a></li>
      </ul>
</li>
      <li><a href="#review">5. Review</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/gabrielodom">Gabriel Odom</a>, James Ban, <a href="http://biostat.med.miami.edu/people/primary-faculty/lily-wang-ph.d">Lily Wang</a>, <a href="http://biostat.med.miami.edu/people/primary-faculty/xi-steven-chen-ph.d">Steven Chen</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
