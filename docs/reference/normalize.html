<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Normalize and reconstruct the eigenvalues of a data matrix for supervised PCA — normalize • pathwayPCA</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Normalize and reconstruct the eigenvalues of a data matrix for supervised PCA — normalize" />

<meta property="og:description" content="Normalize the columns of a project matrix. For each eigenvector,
   swap the signs of the vector elements if the first entry is negative. See
   &quot;Details&quot; for more information." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pathwayPCA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    User Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Introduction_to_pathwayPCA.html">Integrative Pathway Analysis with pathwayPCA</a>
    </li>
    <li>
      <a href="../articles/Supplement1-Quickstart_Guide.html">Suppl. Ch. 1 - Quickstart Guide for New R Users</a>
    </li>
    <li>
      <a href="../articles/Supplement2-Importing_Data.html">Suppl. Ch. 2 - Import and Tidy Data</a>
    </li>
    <li>
      <a href="../articles/Supplement3-Create_Omics_Objects.html">Suppl. Ch. 3 - Creating Data Objects</a>
    </li>
    <li>
      <a href="../articles/Supplement4-Methods_Walkthrough.html">Suppl. Ch. 4 - Test Pathway Significance</a>
    </li>
    <li>
      <a href="../articles/Supplement5-Analyse_Results.html">Suppl. Ch.  5 - Visualizing the Results</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Version Logs</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/gabrielodom/pathwayPCA">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Normalize and reconstruct the eigenvalues of a data matrix for supervised PCA</h1>
    <small class="dont-index">Source: <a href='https://github.com/gabrielodom/pathwayPCA/blob/master/R/aesPC_unknown_matrixNorm.R'><code>R/aesPC_unknown_matrixNorm.R</code></a></small>
    <div class="hidden name"><code>normalize.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Normalize the columns of a project matrix. For each eigenvector,
   swap the signs of the vector elements if the first entry is negative. See
   "Details" for more information.</p>
    
    </div>

    <pre class="usage"><span class='fu'>normalize</span>(<span class='no'>B</span>, <span class='no'>d</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>B</th>
      <td><p>A projection matrix: often the matrix of the left singular vectors
given by the Singular Value Decomposition of a data matrix or Grammian.</p></td>
    </tr>
    <tr>
      <th>d</th>
      <td><p>The number of columns of <code>B</code> to normalize.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A matrix of the eigenvectors or left singular vectors in <code>B</code>
   transformed to be the left singular values of the original data matrix.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is designed to reconstruct the original first <code>d</code>
   left singular vectors of a data matrix from the first <code>d</code>
   eigenvectors of the Grammian of that data matrix. Basically, after the
   data matrix has been centred, the left singular vectors of that data
   matrix and the left singular vectors of the Grammian of that data matrix
   are equal up to a sign. This function reverses that sign so that the two
   sets of singular vectors are equal.</p>
<p>Consider the internal workings of the <code><a href='aespca.html'>aespca</a></code> function. This
   "sign flipping" changes the eigenvectors of <code>xtx</code> into the
   left singular vectors of <code><a href='https://www.rdocumentation.org/packages/base/topics/scale'>scale(X, , center = TRUE, scale = TRUE)</a></code>.
   Instead of calculating the Grammian, regularising it (by adding some small
   \(\lambda\) value to the diagonal), taking the SVD of the regularized
   Grammian, and extracting the first \(d\) eigenvectors, why don't we just
   extract the first \(d\) singular vectors directly from the scaled data
   matrix itself? The regularisation effect only inflates the singular- or
   eigen-values anyway, so it has no effect on the singular vectors in any
   way. Moreover, the <code><a href='aespca.html'>aespca</a></code> function does not even call for
   the eigen-values at all, so this whole process is supurfluous. The only
   wrinkle is adapting the <code><a href='lars.lsa.html'>lars.lsa</a></code> and <code><a href='aespca.html'>aespca</a></code>
   functions to only operate on the data matrix.</p>
<p>Furthermore, the <code><a href='https://www.rdocumentation.org/packages/lars/topics/lars'>lars</a></code> function <em>can</em> take in the
   full data, instead of just a Grammian. As an enhancement, we should either
   update our copy of the lars function in <code><a href='lars.lsa.html'>lars.lsa</a></code>, or make a
   call to the exported <code><a href='https://www.rdocumentation.org/packages/lars/topics/lars'>lars</a></code> function. ENHANCEMENT.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='aespca.html'>aespca</a></code>; <code><a href='lars.lsa.html'>lars.lsa</a></code>;
   <code><a href='AESPCA_pVals.html'>AESPCA_pVals</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>  # DO NOT CALL THIS FUNCTION DIRECTLY.
  # Use AESPCA_pVals() instead
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/gabrielodom'>Gabriel Odom</a>, James Ban, <a href='http://biostat.med.miami.edu/people/primary-faculty/lily-wang-ph.d'>Lily Wang</a>, <a href='http://biostat.med.miami.edu/people/primary-faculty/xi-steven-chen-ph.d'>Steven Chen</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

