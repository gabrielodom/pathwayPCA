<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract and test principal components from supervised PCA — superpc.st • pathwayPCA</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Extract and test principal components from supervised PCA — superpc.st" />
<meta property="og:description" content="Identify \(p_{path}\) significant features, extract principal
   components (PCs) from those specific features to construct a data matrix,
   predict the response with this data matrix, and record the model fit
   statistic of this prediction." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pathwayPCA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    User Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Introduction_to_pathwayPCA.html">Integrative Pathway Analysis with pathwayPCA</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Supplemental Material</li>
    <li>
      <a href="../articles/Supplement1-Quickstart_Guide.html">Quick-start Guide</a>
    </li>
    <li>
      <a href="../articles/Supplement2-Importing_Data.html">Import and Tidy Data</a>
    </li>
    <li>
      <a href="../articles/Supplement3-Create_Omics_Objects.html">Creating -Omics Data Objects</a>
    </li>
    <li>
      <a href="../articles/Supplement4-Methods_Walkthrough.html">Pathway-PCA Methods</a>
    </li>
    <li>
      <a href="../articles/Supplement5-Analyse_Results.html">Result Visualization Guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Version Logs</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract and test principal components from supervised PCA</h1>
    
    <div class="hidden name"><code>superpc.st.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Identify \(p_{path}\) significant features, extract principal
   components (PCs) from those specific features to construct a data matrix,
   predict the response with this data matrix, and record the model fit
   statistic of this prediction.</p>
    </div>

    <pre class="usage"><span class='fu'>superpc.st</span>(<span class='no'>fit</span>, <span class='no'>data</span>, <span class='kw'>n.threshold</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>threshold.ignore</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>n.PCs</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>min.features</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>epsilon</span> <span class='kw'>=</span> <span class='fl'>1e-06</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>fit</th>
      <td><p>An object of class <code>superpc</code> returned by the function
<code><a href='superpc.train.html'>superpc.train</a></code>.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>A list of test data:</p><ul>
<li><p><code>x</code> : A "tall" pathway data frame (\(p_{path} \times N\)).</p></li>
<li><p><code>y</code> : A response vector corresponding to <code>type</code>.</p></li>
<li><p><code>censoring.status</code> : If <code>type = "survival"</code>, the
     censoring indicator (\(1 - \) the observed event indicator).
     Otherwise, <code>NULL</code>.</p></li>
<li><p><code>featurenames</code> : A character vector of the measured -Omes in
    <code>x</code>.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>n.threshold</th>
      <td><p>The number of bins into which to split the feature scores
returned in the <code>fit</code> object.</p></td>
    </tr>
    <tr>
      <th>threshold.ignore</th>
      <td><p>Calculate the model for feature scores above this
percentile of the threshold. We have observed that the smallest threshold
values (0% - 40%) largely have no effect on model \(t\)-scores.
Defaults to 0.00 (0%).</p></td>
    </tr>
    <tr>
      <th>n.PCs</th>
      <td><p>The number of PCs to extract from the pathway.</p></td>
    </tr>
    <tr>
      <th>min.features</th>
      <td><p>What is the smallest number of genes allowed in each
pathway? This argument must be kept constant across all calls to this
function which use the same pathway list. Defaults to 3.</p></td>
    </tr>
    <tr>
      <th>epsilon</th>
      <td><p>I'm not sure why this is important. It's called when comparing
the absolute score values to each value of the threshold vector. Defaults
to \(10^{-6}\).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list containing:</p><ul>
<li><p><code>thresholds</code> : A labelled vector of quantile values of the
     score vector in the <code>fit</code> object.</p></li>
<li><p><code>n.threshold</code> : The number of splits to make in the score
     vector.</p></li>
<li><p><code>scor</code> : A matrix of model fit statistics. Each column is the
    threshold level of predictors allowed into the model, and each row is a
    PC included. Which genes are included in the matrix before PC extraction
    is governed by comparing their model score to the quantile value of the
    scores at each threshold value.</p></li>
<li><p><code>tscor</code> : A matrix of model \(t\)-statisics for each PC
     included (rows) at each threshold level (columns).</p></li>
<li><p><code>type</code> : Which model was called? Options are survival,
     regression, or binary.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>NOTE: the number of thresholds at which to test (<code>n.threshold</code>)
  can be larger than the number of features to bin. This will result in
  constant \(t\)-statistics for the first few bins because the model isn't
  changing.</p>
<p>See <a href='https://web.stanford.edu/~hastie/Papers/spca_JASA.pdf'>https://web.stanford.edu/~hastie/Papers/spca_JASA.pdf</a>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='superpc.train.html'>superpc.train</a></code>; <code><a href='SuperPCA_pVals.html'>SuperPCA_pVals</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>  <span class='co'># DO NOT CALL THIS FUNCTION DIRECTLY.</span>
  <span class='co'># Use SuperPCA_pVals() instead</span>

<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
  <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"colon_pathwayCollection"</span>)
  <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"colonSurv_df"</span>)

  <span class='no'>colon_OmicsSurv</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='CreateOmics.html'>CreateOmics</a></span>(
    <span class='kw'>assayData_df</span> <span class='kw'>=</span> <span class='no'>colonSurv_df</span>[,-(<span class='fl'>2</span>:<span class='fl'>3</span>)],
    <span class='kw'>pathwayCollection_ls</span> <span class='kw'>=</span> <span class='no'>colon_pathwayCollection</span>,
    <span class='kw'>response</span> <span class='kw'>=</span> <span class='no'>colonSurv_df</span>[, <span class='fl'>1</span>:<span class='fl'>3</span>],
    <span class='kw'>respType</span> <span class='kw'>=</span> <span class='st'>"surv"</span>
  )

  <span class='no'>asthmaGenes_char</span> <span class='kw'>&lt;-</span>
    <span class='fu'><a href='get_set_OmicsPathway.html'>getTrimPathwayCollection</a></span>(<span class='no'>colon_OmicsSurv</span>)<span class='kw'>[[</span><span class='st'>"KEGG_ASTHMA"</span>]]$<span class='no'>IDs</span>

  <span class='no'>data_ls</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/t.html'>t</a></span>(<span class='fu'><a href='get_set_OmicsPathway.html'>getAssay</a></span>(<span class='no'>colon_OmicsSurv</span>))[<span class='no'>asthmaGenes_char</span>, ],
    <span class='kw'>y</span> <span class='kw'>=</span> <span class='fu'><a href='get_set_OmicsSurv.html'>getEventTime</a></span>(<span class='no'>colon_OmicsSurv</span>),
    <span class='kw'>censoring.status</span> <span class='kw'>=</span> <span class='fu'><a href='get_set_OmicsSurv.html'>getEvent</a></span>(<span class='no'>colon_OmicsSurv</span>),
    <span class='kw'>featurenames</span> <span class='kw'>=</span> <span class='no'>asthmaGenes_char</span>
  )

  <span class='no'>superpcFit</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='superpc.train.html'>superpc.train</a></span>(
    <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>data_ls</span>,
    <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"surv"</span>
  )

  <span class='fu'>superpc.st</span>(
    <span class='kw'>fit</span> <span class='kw'>=</span> <span class='no'>superpcFit</span>,
    <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>data_ls</span>
  )
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/gabrielodom'>Gabriel Odom</a>, James Ban, Lizhong Liu, <a href='http://biostat.med.miami.edu/people/primary-faculty/lily-wang-ph.d'>Lily Wang</a>, <a href='http://biostat.med.miami.edu/people/primary-faculty/xi-steven-chen-ph.d'>Steven Chen</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


